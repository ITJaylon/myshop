
<!DOCTYPE html>
<html lang="en"xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <link rel="stylesheet" type="text/css" href="../static/css/Login.css"/>
  <!--jquery需要引入的文件-->
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js"></script>
  <!--ajax提交表单需要引入jquery.form.js-->
  <script type="text/javascript" src="http://malsup.github.io/jquery.form.js"></script>

</head>
<body>
<p id="login">
<h1>Login</h1>
<form method="post" id="ajaxForm">
  <input type="name" required="required" placeholder="用户名" name="u"></input>
  <input type="password" required="required" placeholder="密码" name="p"></input>
  <button class="but" id="ajaxSubmit">登录</button>
</form>
<script>
  $(function () {
    //给id为ajaxSubmit的按钮提交表单
    $("#ajaxSubmit").on("click",function () {
      //alert(1);
      $("#ajaxForm").ajaxSubmit({
        beforeSubmit:function () {
          // alert("我在提交表单之前被调用！");
        },
        success:function (data) {
          //alert("我在提交表单成功之后被调用");
          if (typeof(data) == "string"){
            data = eval( '('+data+')');
            //alert(data); object
            handle(data);
          }else{
            handle(data);
          }

        }
      });
    });
  });
  //处理返回数据
  function handle(data){
    if(data.status == 200){
      alert(data.message);
      //处理逻辑
    }else{
      alert(data.message);
      //处理逻辑
    }
  }
</script>
</p>
</body>
</html>